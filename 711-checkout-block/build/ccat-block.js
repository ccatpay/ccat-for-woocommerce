(()=>{"use strict";var e={20:(e,t,s)=>{var r=s(609),o=Symbol.for("react.element"),n=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,s){var r,n={},d=null,p=null;for(r in void 0!==s&&(d=""+s),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(p=t.ref),t)c.call(t,r)&&!a.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:o,type:e,key:d,ref:p,props:n,_owner:i.current}}t.Fragment=n,t.jsx=d,t.jsxs=d},609:e=>{e.exports=window.React},848:(e,t,s)=>{e.exports=s(20)}},t={};const s=window.wp.element,r=window.wp.i18n,o=window.wp.data;var n=function s(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,s),n.exports}(848);const c=JSON.parse('{"name":"ccat-for-woocommerce/ccat-for-711"}');(0,window.wp.blocks.registerBlockType)(c.name,{edit:({checkoutExtensionData:e,extensions:t})=>{const[c,i]=(0,s.useState)(!1),[a,d]=(0,s.useState)({storeName:"",storeId:"",storeAddress:""}),p=(0,o.useSelect)((e=>e("wc/store/cart").getCartData().shippingRates)),{updateShippingAddress:l}=(0,o.useDispatch)("wc/store/checkout");return(0,s.useEffect)((()=>{if(i(!1),p.length){const e=(e=>{if(!e.length)return[];let t=[];for(let s=0;s<e.length;s++)if(e[s].shipping_rates)for(let r=0;r<e[s].shipping_rates.length;r++)t.push(e[s].shipping_rates[r]);return t})(p);for(let t=0;t<e.length;t++)e[t].rate_id&&e[t].rate_id.includes("wc_shipping_ccat_711")&&e[t].selected&&i(!0)}}),[p]),c?(0,n.jsxs)("div",{className:"wc-block-components-shipping-cvs-selector",children:[(0,n.jsx)("h4",{children:(0,r.__)("選擇 7-11 取貨門市","your-text-domain")}),(0,n.jsxs)("div",{className:"wc-block-components-shipping-cvs-selector__content",children:[(0,n.jsx)("button",{type:"button",className:"wc-block-components-button",onClick:e=>{const t={storeName:"7-11 測試門市",storeId:"TW12345",storeAddress:"台北市信義區松高路123號"};d(t),l({address_1:`${t.storeName} (${t.storeId})`,address_2:t.storeAddress,city:"台北市",state:"台北市",postcode:"11050",country:"TW"})},children:(0,r.__)("選擇門市","your-text-domain")}),a.storeName&&(0,n.jsxs)("div",{className:"wc-block-components-shipping-cvs-info",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:(0,r.__)("已選擇門市：","your-text-domain")})," ",a.storeName]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:(0,r.__)("門市代號：","your-text-domain")})," ",a.storeId]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:(0,r.__)("門市地址：","your-text-domain")})," ",a.storeAddress]})]})]})]}):(0,n.jsx)(n.Fragment,{})},save:()=>null})})();
//# sourceMappingURL=ccat-block.js.map