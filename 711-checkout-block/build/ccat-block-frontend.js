(()=>{"use strict";var e={20:(e,t,o)=>{var s=o(609),r=Symbol.for("react.element"),c=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,o){var s,c={},l=null,d=null;for(s in void 0!==o&&(l=""+o),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,s)&&!i.hasOwnProperty(s)&&(c[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===c[s]&&(c[s]=t[s]);return{$$typeof:r,type:e,key:l,ref:d,props:c,_owner:a.current}}t.Fragment=c,t.jsx=l,t.jsxs=l},609:e=>{e.exports=window.React},848:(e,t,o)=>{e.exports=o(20)}},t={};const o=window.wc.blocksCheckout,s=window.wp.element,r=window.wp.i18n,c=window.wp.data;var n=function o(s){var r=t[s];if(void 0!==r)return r.exports;var c=t[s]={exports:{}};return e[s](c,c.exports,o),c.exports}(848);const a=JSON.parse('{"apiVersion":2,"title":"ccat-for-woocommerce/ccat-for-711","name":"ccat-for-woocommerce/ccat-for-711","version":"1.0.0","category":"woocommerce","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-shipping-methods-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"ccat-for-woocommerce"}');(0,o.registerCheckoutBlock)({metadata:a,component:({checkoutExtensionData:e,extensions:t})=>{const[o,a]=(0,s.useState)(!1),[i,l]=(0,s.useState)({storeName:"",storeId:"",storeAddress:""}),d=(0,c.useSelect)((e=>e("wc/store/cart").getCartData().shippingRates)),{updateShippingAddress:p}=(0,c.useDispatch)("wc/store/checkout");return(0,s.useEffect)((()=>{if(a(!1),d.length){const e=(e=>{if(!e.length)return[];let t=[];for(let o=0;o<e.length;o++)if(e[o].shipping_rates)for(let s=0;s<e[o].shipping_rates.length;s++)t.push(e[o].shipping_rates[s]);return t})(d);for(let t=0;t<e.length;t++)e[t].rate_id&&e[t].rate_id.includes("wc_shipping_ccat_711")&&e[t].selected&&a(!0)}}),[d]),o?(0,n.jsxs)("div",{className:"wc-block-components-shipping-cvs-selector",children:[(0,n.jsx)("h4",{children:(0,r.__)("選擇 7-11 取貨門市","your-text-domain")}),(0,n.jsxs)("div",{className:"wc-block-components-shipping-cvs-selector__content",children:[(0,n.jsx)("button",{type:"button",className:"wc-block-components-button",onClick:e=>{const t={storeName:"7-11 測試門市",storeId:"TW12345",storeAddress:"台北市信義區松高路123號"};l(t),p({address_1:`${t.storeName} (${t.storeId})`,address_2:t.storeAddress,city:"台北市",state:"台北市",postcode:"11050",country:"TW"})},children:(0,r.__)("選擇門市","your-text-domain")}),i.storeName&&(0,n.jsxs)("div",{className:"wc-block-components-shipping-cvs-info",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:(0,r.__)("已選擇門市：","your-text-domain")})," ",i.storeName]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:(0,r.__)("門市代號：","your-text-domain")})," ",i.storeId]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:(0,r.__)("門市地址：","your-text-domain")})," ",i.storeAddress]})]})]})]}):(0,n.jsx)(n.Fragment,{})}})})();
//# sourceMappingURL=ccat-block-frontend.js.map