{"version":3,"file":"ccat-block-frontend.js","mappings":"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","sources":["webpack://ccat-checkout-block/./node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack://ccat-checkout-block/./node_modules/react/jsx-runtime.js","webpack://ccat-checkout-block/external window \"React\"","webpack://ccat-checkout-block/webpack/bootstrap","webpack://ccat-checkout-block/external window [\"wc\",\"blocksCheckout\"]","webpack://ccat-checkout-block/external window [\"wp\",\"element\"]","webpack://ccat-checkout-block/external window [\"wp\",\"i18n\"]","webpack://ccat-checkout-block/../fetch-interceptor.js","webpack://ccat-checkout-block/./src/js/ccat-block/block.js","webpack://ccat-checkout-block/./src/js/ccat-block/frontend.js"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wc\"][\"blocksCheckout\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","// fetch-interceptor.js\r\n// 使用 IIFE 和閉包來實現單例模式\r\nconst fetchInterceptor = (function () {\r\n    function createInterceptor() {\r\n        // 原始的 fetch 函數\r\n        const originalFetch = window.fetch;\r\n\r\n        // 攔截器列表\r\n        const interceptors = [];\r\n\r\n        // 攔截的 fetch 實現\r\n        async function interceptedFetch(...args) {\r\n            let [resource, config] = args;\r\n\r\n            // 依序執行所有攔截器\r\n            for (const interceptor of interceptors) {\r\n                try {\r\n                    const result = await interceptor(resource, config);\r\n                    if (result) {\r\n                        [resource, config] = result;\r\n                    }\r\n                } catch (error) {\r\n                    console.error('執行攔截器時發生錯誤:', error);\r\n                }\r\n            }\r\n\r\n            // 呼叫原始 fetch\r\n            return originalFetch(resource, config);\r\n        }\r\n\r\n        // 檢查是否已經初始化過\r\n        let isInitialized = false;\r\n\r\n        return {\r\n            // 初始化攔截器 - 只會執行一次\r\n            init: function () {\r\n                if (!isInitialized) {\r\n                    // 替換全局 fetch\r\n                    window.fetch = interceptedFetch;\r\n                    isInitialized = true;\r\n                    console.log('Fetch 攔截器已初始化');\r\n                }\r\n                return this;\r\n            },\r\n\r\n            // 註冊新攔截器\r\n            register: function (interceptor) {\r\n                if (typeof interceptor !== 'function') {\r\n                    console.error('攔截器必須是函數');\r\n                    return;\r\n                }\r\n\r\n                interceptors.push(interceptor);\r\n                return () => this.unregister(interceptor); // 返回取消註冊的函數\r\n            },\r\n\r\n            // 取消註冊攔截器\r\n            unregister: function (interceptor) {\r\n                const index = interceptors.indexOf(interceptor);\r\n                if (index !== -1) {\r\n                    interceptors.splice(index, 1);\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n\r\n            // 取得攔截器數量 (用於測試)\r\n            getInterceptorCount: function () {\r\n                return interceptors.length;\r\n            }\r\n        };\r\n    }\r\n\r\n    // 返回獲取實例的方法\r\n    return {\r\n        // 獲取單例實例\r\n        getInstance: function () {\r\n            if (!window.ccatInstance) {\r\n                window.ccatInstance = createInterceptor();\r\n                window.ccatInstance.init(); // 自動初始化\r\n            }\r\n            return window.ccatInstance;\r\n        }\r\n    };\r\n})();\r\n\r\n// 導出獲取實例的方法\r\nexport default fetchInterceptor.getInstance();","import {useState, useEffect} from '@wordpress/element';\r\nimport {__} from '@wordpress/i18n';\r\nimport fetchInterceptor from '../../../../fetch-interceptor';\r\n\r\nlet defaultInvoiceData = {\r\n    vehicle_type: '1',\r\n    cloud_invoice_type: 'member',\r\n    vehicle_barcode: '',\r\n    certificate_number: '',\r\n    donate_invoice: '0',\r\n    love_code: '',\r\n    buyer_bill_no: '',\r\n    buyer_invoice_title: ''\r\n};\r\nexport const Block = ({checkoutExtensionData}) => {\r\n    const [invoiceData, setInvoiceData] = useState(defaultInvoiceData);\r\n\r\n    // 載具類型選項\r\n    const vehicleTypes = [\r\n        {value: '1', label: __('個人雲端發票', 'woocommerce')},\r\n        {value: '2', label: __('發票捐贈', 'woocommerce')},\r\n        {value: '3', label: __('公司發票', 'woocommerce')},\r\n    ];\r\n\r\n    const cloudInvoiceTypes = [\r\n        {value: 'member', label: __('會員載具', 'woocommerce')},\r\n        {value: 'mobile', label: __('手機條碼載具', 'woocommerce')},\r\n        {value: 'certificate', label: __('自然人憑證載具', 'woocommerce')},\r\n    ];\r\n\r\n\r\n    const handleInputChange = (field, value) => {\r\n        const newInvoiceData = {\r\n            ...invoiceData,\r\n            [field]: value\r\n        };\r\n\r\n        setInvoiceData(newInvoiceData);\r\n        sessionStorage.setItem('wc_invoice_data', JSON.stringify(newInvoiceData));\r\n    };\r\n\r\n    return (\r\n        <div className=\"wc-block-components-panel\">\r\n            <h2 className=\"wc-block-components-title\">{__('電子發票資訊', 'woocommerce')}</h2>\r\n\r\n            {/* 發票類型 */}\r\n            <div className=\"wc-blocks-components-select\">\r\n                <div className=\"wc-blocks-components-select__container\">\r\n                    <label className=\"wc-blocks-components-select__label\">{__('發票類型', 'woocommerce')}</label>\r\n                    <select\r\n                        name=\"vehicle_type\" id=\"vehicle_type\"\r\n                        className=\"wc-blocks-components-select__select\"\r\n                        value={invoiceData.vehicle_type}\r\n                        onChange={(e) => handleInputChange('vehicle_type', e.target.value)}\r\n                    >\r\n                        {vehicleTypes.map(type => (\r\n                            <option key={type.value} value={type.value}>\r\n                                {type.label}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            {/* 個人雲端發票子選項 */}\r\n            {invoiceData.vehicle_type === '1' && (\r\n                <>\r\n                    <div className=\"wc-blocks-components-select\">\r\n                        <div className=\"wc-blocks-components-select__container\">\r\n                            <label className=\"wc-blocks-components-select__label\">\r\n                                {__('載具類型', 'woocommerce')}\r\n                            </label>\r\n                            <select\r\n                                name=\"cloud_invoice_type\" id=\"cloud_invoice_type\"\r\n                                className=\"wc-blocks-components-select__select\"\r\n                                value={invoiceData.cloud_invoice_type}\r\n                                onChange={(e) => handleInputChange('cloud_invoice_type', e.target.value)}\r\n                            >\r\n                                {cloudInvoiceTypes.map(type => (\r\n                                    <option key={type.value} value={type.value}>\r\n                                        {type.label}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 手機條碼載具輸入框 */}\r\n                    {invoiceData.cloud_invoice_type === 'mobile' && (\r\n                        <div className=\"wc-block-components-text-input is-active\">\r\n                            <input\r\n                                name=\"vehicle_barcode\" id=\"vehicle_barcode\"\r\n                                type=\"text\"\r\n                                maxLength=\"8\"\r\n                                value={invoiceData.vehicle_barcode}\r\n                                onChange={(e) => handleInputChange('vehicle_barcode', e.target.value)}\r\n                            />\r\n                            <label>{__('手機條碼', 'woocommerce')}</label>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* 自然人憑證載具輸入框 */}\r\n                    {invoiceData.cloud_invoice_type === 'certificate' && (\r\n                        <div className=\"wc-block-components-text-input is-active\">\r\n                            <input\r\n                                name=\"certificate_number\" id=\"certificate_number\"\r\n                                type=\"text\"\r\n                                maxLength=\"16\"\r\n                                value={invoiceData.certificate_number}\r\n                                onChange={(e) => handleInputChange('certificate_number', e.target.value)}\r\n                            />\r\n                            <label>{__('自然人憑證號碼', 'woocommerce')}</label>\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n\r\n            {/* 愛心碼 */}\r\n            {invoiceData.vehicle_type === '2' && (\r\n                <div className=\"wc-block-components-text-input is-active\">\r\n                    <input\r\n                        name=\"love_code\" id=\"love_code\"\r\n                        type=\"text\"\r\n                        maxLength=\"20\"\r\n                        placeholder=\"預設：創世基金會919\"\r\n                        value={invoiceData.love_code}\r\n                        onChange={(e) => handleInputChange('love_code', e.target.value)}\r\n                    />\r\n                    <label>{__('愛心碼', 'woocommerce')}</label>\r\n                </div>\r\n            )}\r\n\r\n            {invoiceData.vehicle_type === '3' && (\r\n                <>\r\n                    <div className=\"wc-block-components-text-input is-active\">\r\n                        <input\r\n                            name=\"buyer_bill_no\" id=\"buyer_bill_no\"\r\n                            type=\"text\"\r\n                            maxLength=\"8\"\r\n                            value={invoiceData.buyer_bill_no}\r\n                            onChange={(e) => handleInputChange('buyer_bill_no', e.target.value)}\r\n                        />\r\n                        <label>{__('統一編號', 'woocommerce')}</label>\r\n                    </div>\r\n\r\n                    <div className=\"wc-block-components-text-input is-active\">\r\n                        <input\r\n                            name=\"buyer_invoice_title\" id=\"buyer_invoice_title\"\r\n                            type=\"text\"\r\n                            maxLength=\"161\"\r\n                            value={invoiceData.buyer_invoice_title}\r\n                            onChange={(e) => handleInputChange('buyer_invoice_title', e.target.value)}\r\n                        />\r\n                        <label>{__('發票抬頭', 'woocommerce')}</label>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\nconst invoiceInterceptor = async (resource, config) => {\r\n    // 檢查是否是結帳請求\r\n    if (resource.includes('/wc/store/v1/checkout') && config.body) {\r\n        const invoiceData = sessionStorage.getItem('wc_invoice_data')\r\n            ? JSON.parse(sessionStorage.getItem('wc_invoice_data'))\r\n            : defaultInvoiceData;\r\n\r\n        // 修改請求資料\r\n        const body = JSON.parse(config.body);\r\n        body.extensions = {\r\n            ...body.extensions,\r\n            'ccat_invoice_data': invoiceData\r\n        };\r\n\r\n        config.body = JSON.stringify(body);\r\n    }\r\n\r\n    return [resource, config];\r\n};\r\nfetchInterceptor.register(invoiceInterceptor);","import {registerCheckoutBlock} from '@woocommerce/blocks-checkout'\r\n\r\nimport {Block} from './block'\r\nimport metadata from './block.json'\r\n\r\nregisterCheckoutBlock({\r\n    metadata,\r\n    component: Block,\r\n});"],"names":["f","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","exports","Fragment","jsx","jsxs","module","window","__webpack_module_cache__","ccatInstance","originalFetch","fetch","interceptors","async","interceptedFetch","args","resource","config","interceptor","result","error","console","isInitialized","init","log","this","register","push","unregister","index","indexOf","splice","getInterceptorCount","length","createInterceptor","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","defaultInvoiceData","vehicle_type","cloud_invoice_type","vehicle_barcode","certificate_number","donate_invoice","love_code","buyer_bill_no","buyer_invoice_title","fetchInterceptor","includes","body","invoiceData","sessionStorage","getItem","JSON","parse","extensions","stringify","registerCheckoutBlock","metadata","component","Block","checkoutExtensionData","setInvoiceData","useState","vehicleTypes","value","label","__","cloudInvoiceTypes","handleInputChange","field","newInvoiceData","setItem","_jsxs","className","children","_jsx","name","id","onChange","target","map","_Fragment","maxLength","placeholder"],"sourceRoot":""}